<div class="bg-white">
  <div class="flex flex-row">
    <!-- <div class="w-20 mt-6 ml-6">
          <button
              class="bg-white pt-3 pb-2 px-3  text-indigo-600 text-base rounded-full hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-100 focus:outline-none">
              <lucide-icon name="arrow-left" class="my-icon"></lucide-icon></button>
      </div> -->
    <div class="pt-8 pl-4 uppercase tracking-wide text-indigo-500 font-semibold text-xl">Sections</div>
  </div>
  <div *ngIf="savedsections.length != 0" class="px-10 pb-10 pt-5 savedsection">
    <div *ngFor="let savedsection of savedsections; let i = index" class="mb-3">
      <div class=" p-4 w-full border-2 border-indigo-200 rounded-lg bg-indigo-50">
        <div class="mb-4">
          <label class="block mb-2 text-base text-black font-semibold" for="title-{{i}}">Section
            {{ i + 1 }} : {{ savedsection.sectionname }}</label>
          <!-- <input type="string" id="title-{{i}}"
            class="form-control  text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
            [(ngModel)]="savedsection.sectionname" placeholder="Section Title" required /> -->
        </div>
        <div class="mb-4">
          <label class="block mb-2 text-base text-black font-semibold" for="description-{{i}}">Description : {{
            savedsection.description }}</label>
          <!-- <textarea id="description-{{i}}"
            class="block font-sans font-normal text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
            placeholder="This section is..." [(ngModel)]="savedsection.description"></textarea> -->
        </div>
        <div class="mb-5">
          <div *ngFor="let lesson of savedsection.lessons; let i = index" class="mb-6">
            <div class=" p-4 w-full border-2 border-indigo-200 border-dashed rounded-lg bg-indigo-100">
              <div class="mb-4">
                <label class="block mb-2 text-base text-black font-semibold" for="title-{{i}}">Lesson
                  {{ i + 1 }} : {{ lesson.title }}</label>
                <!-- <input type="string" id="title-{{i}}"
                  class="form-control  text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                  [(ngModel)]="lesson.title" placeholder="Section Title" required /> -->
              </div>
              <div class="mb-4">
                <label class="block mb-2 text-base text-black font-semibold" for="description-{{i}}">Description : {{
                  lesson.description }}</label>
                <!-- <textarea id="description-{{i}}"
                  class="block font-sans font-normal text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                  placeholder="This section is..." [(ngModel)]="lesson.description"></textarea> -->
              </div>
              <label class="block mb-2 text-base text-black font-semibold" for="video-{{i}}">Video :</label>
              <div class="flex flex-row p-4 items-center justify-center w-full border-2 border-indigo-200 border-dashed rounded-lg bg-indigo-50 hover:bg-indigo-100 hover:border-gray-50">
                <div class="w-1/2">
                    <video controls class="w-full h-auto object-contain rounded-md">
                        <source [src]="lesson.video" type="video/mp4" />
                        Your browser does not support the video tag.
                    </video>
                </div>
              </div>  

              <!-- <div class="flex items-center justify-between">
                <button (click)="savelesson(i)"
                  class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Save</button>
              </div> -->
            </div>
          </div>
          <!-- <button (click)="addLesson(i)"
            class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Add
            Lesson</button> -->
        </div>
      </div>
      <!-- <div class="flex items-center justify-between mt-5">
        <button (click)="saveSection(i)"
          class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Save Section</button>
      </div> -->
    </div>
    <!-- <button *ngIf="sections.length == 0" (click)="addSection()"
      class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Add
      Section</button> -->
  </div>
  <div class="px-10 pb-10 pt-5">
    <div *ngFor="let section of sections; let i = index" class="mb-0">
      <div class=" p-4 w-full border-2 border-indigo-200 border-dashed rounded-lg bg-indigo-50">
        <div class="mb-4">
          <label class="block mb-2 text-base text-black font-semibold" for="title-{{i}}">Section
            Title</label>
          <input type="string" id="title-{{i}}"
            class="form-control  text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
            [(ngModel)]="section.title" placeholder="Section Title" required />
        </div>
        <div class="mb-4">
          <label class="block mb-2 text-base text-black font-semibold" for="description-{{i}}">Description</label>
          <textarea id="description-{{i}}"
            class="block font-sans font-normal text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
            placeholder="This section is..." [(ngModel)]="section.description"></textarea>
        </div>
        <div class="mb-5">
          <div *ngFor="let lesson of section.lessons; let j = index" class="mb-6">
            <div class=" p-4 w-full border-2 border-indigo-200 border-dashed rounded-lg bg-indigo-100">
              <div class="mb-4">
                <label class="block mb-2 text-base text-black font-semibold" for="title-{{i}}-{{j}}">Lesson
                  Title</label>
                <input type="string" id="title-{{i}}-{{j}}"
                  class="form-control  text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                  [(ngModel)]="lesson.title" placeholder="Section Title" required />
              </div>
              <div class="mb-4">
                <label class="block mb-2 text-base text-black font-semibold" for="description-{{i}}-{{j}}">Description</label>
                <textarea id="description-{{i}}-{{j}}"
                  class="block font-sans font-normal text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                  placeholder="This section is..." [(ngModel)]="lesson.description"></textarea>
              </div>
              <div class="mb-4">
                <label class="block mb-2 text-base text-black font-semibold" for="video-{{i}}-{{j}}">Video</label>
                <input type="file" id="video-{{i}}-{{j}}"
                  class="form-control text-indigo-600 placeholder-indigo-600 text-sm rounded-lg w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                  [(ngModel)]="lesson.vedio" (change)="onFileSelected($event, i, j)" accept="video/*" required />
              </div>
              <div *ngIf="previewUrls[i] && previewUrls[i][j] && previewUrls[i][j] != null" class="flex flex-row p-4 items-center justify-center w-full border-2 border-indigo-200 border-dashed rounded-lg bg-indigo-50 hover:bg-indigo-100 hover:border-gray-50">
                <div class="w-1/2">
                    <video controls class="w-full h-auto object-contain rounded-md">
                        <source [src]="previewUrls[i][j]" type="video/mp4" />
                        Your browser does not support the video tag.
                    </video>
                </div>
                <button (click)="removeVideo(i, j)"
                    class="mt-28 ml-4 bg-indigo-200 pt-3 pb-2 px-3 text-indigo-600 text-base rounded-full hover:cursor-pointer border-none border-blue-100 hover:bg-indigo-50 focus:outline-none">
                    <lucide-icon name="trash-2" class="my-icon"></lucide-icon>
                </button>
              </div>        

              <!-- <div class="flex items-center justify-between">
                <button (click)="savelesson(i)"
                  class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Save</button>
              </div> -->
            </div>
          </div>
          <button (click)="addLesson(i)"
            class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Add
            Lesson</button>
        </div>
      </div>
      <div class="flex items-center justify-between mt-5">
        <button (click)="saveSection(i)"
          class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Save
          Section</button>
      </div>
    </div>
    <button *ngIf="sections.length == 0" (click)="addSection()"
      class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Add
      Section</button>
  </div>
  <!-- <div class="p-10">
    <div *ngFor="let section of sections; let i = index" class="mb-6">
      <div class=" p-4 w-full border-2 border-indigo-200 border-dashed rounded-lg cursor-pointer bg-indigo-50">
        <div class="mb-4">
          <label class="block mb-2 text-base text-black font-semibold" for="title-{{i}}">Section
            Title</label>
          <input type="string" id="title-{{i}}"
            class="form-control  text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
            [(ngModel)]="section.title" placeholder="Section Title" required />
        </div>
        <div class="mb-4">
          <label class="block mb-2 text-base text-black font-semibold" for="description-{{i}}">Description</label>
          <textarea id="description-{{i}}"
            class="block font-sans font-normal text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
            placeholder="This section is..." [(ngModel)]="section.description"></textarea>
        </div>
        <div class="mb-4">
          <label class="block mb-2 text-base text-black font-semibold" for="video-{{i}}">Vedio</label>
          <input
            class="form-control  text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid bg-white border-indigo-200 focus:border-indigo-600"
            id="video-{{i}}" placeholder="Input vedio" [(ngModel)]="section.video" type="text">
          <input
            class="form-control  text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid bg-white border-indigo-200 focus:border-indigo-600"
            id="video-{{i}}" [(ngModel)]="section.video" type="file">
        </div>
        <div class="flex items-center justify-between">
          <button (click)="saveSection(i)"
            class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Save</button>
        </div>
      </div>
    </div>
    <button (click)="addSection()"
            class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Add Section</button>
  </div> -->
</div>