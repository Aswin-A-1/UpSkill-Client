<div class="bg-white">
  <div class="flex flex-row">
    <!-- <div class="w-20 mt-6 ml-6">
          <button
              class="bg-white pt-3 pb-2 px-3  text-indigo-600 text-base rounded-full hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-100 focus:outline-none">
              <lucide-icon name="arrow-left" class="my-icon"></lucide-icon></button>
      </div> -->
    <div class="pt-8 pl-4 uppercase tracking-wide text-indigo-500 font-semibold text-xl">Sections</div>
  </div>
  <div *ngIf="savedsections.length != 0" class="px-10 pb-10 pt-5 savedsection">
    <div *ngFor="let savedsection of savedsections; let i = index" class="mb-3">
      <div class=" p-4 w-full border-2 border-indigo-200 rounded-lg bg-indigo-50">
        <div class="flex justify-between">
          <div>
            <div class="mb-4">
              <label class="block mb-2 text-base text-black font-semibold" for="title-{{i}}">Section
                {{ i + 1 }} : {{ savedsection.sectionname }}</label>
              <!-- <input type="string" id="title-{{i}}"
                class="form-control  text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                [(ngModel)]="savedsection.sectionname" placeholder="Section Title" required /> -->
            </div>
            <div class="mb-4">
              <label class="block mb-2 text-base text-black font-semibold" for="description-{{i}}">Description : {{
                savedsection.description }}</label>
              <!-- <textarea id="description-{{i}}"
                class="block font-sans font-normal text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                placeholder="This section is..." [(ngModel)]="savedsection.description"></textarea> -->
            </div>
          </div>
          <div class="pt-2">
            <button (click)="openModal(savedsection._id, i)"
              class="bg-indigo-50 pt-3 pb-2 px-3 text-indigo-400 text-xs rounded-full hover:cursor-pointer border-none border-blue-100 hover:bg-indigo-200 hover:text-indigo-400 focus:outline-none">
              <lucide-icon name="pencil" class="my-icon"></lucide-icon>
            </button>
            <button (click)="openDeleteSectionModal(savedsection._id, i)"
              class="bg-indigo-50 pt-3 pb-2 px-3 text-indigo-400 text-xs rounded-full hover:cursor-pointer border-none border-blue-100 hover:bg-indigo-200 hover:text-indigo-400 focus:outline-none">
              <lucide-icon name="trash-2" class="my-icon"></lucide-icon>
            </button>
          </div>
        </div>
        <div class="mb-5">
          <div *ngFor="let lesson of savedsection.lessons; let j = index" class="mb-6">
            <div class=" p-4 w-full border-2 border-indigo-200 border-dashed rounded-lg bg-indigo-100">
              <div class="flex justify-between">
                <div>
                  <div class="mb-4">
                    <label class="block mb-2 text-base text-black font-semibold" for="title-{{j}}">Lesson
                      {{ j + 1 }} : {{ lesson.title }}</label>
                    <!-- <input type="string" id="title-{{i}}"
                  class="form-control  text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                  [(ngModel)]="lesson.title" placeholder="Section Title" required /> -->
                  </div>
                  <div class="mb-4">
                    <label class="block mb-2 text-base text-black font-semibold" for="description-{{j}}">Description :
                      {{
                      lesson.description }}</label>
                    <!-- <textarea id="description-{{i}}"
                  class="block font-sans font-normal text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                  placeholder="This section is..." [(ngModel)]="lesson.description"></textarea> -->
                  </div>
                </div>
                <div class="pt-2">
                  <button (click)="openLessonModal(savedsection._id, j, i)"
                    class="bg-indigo-100 pt-3 pb-2 px-3 text-indigo-400 text-xs rounded-full hover:cursor-pointer border-none border-blue-100 hover:bg-indigo-200 hover:text-indigo-400 focus:outline-none">
                    <lucide-icon name="pencil" class="my-icon"></lucide-icon>
                  </button>
                  <button (click)="openDeleteLessonModal(savedsection._id, j, i)"
                    class="bg-indigo-100 pt-3 pb-2 px-3 text-indigo-400 text-xs rounded-full hover:cursor-pointer border-none border-blue-100 hover:bg-indigo-200 hover:text-indigo-400 focus:outline-none">
                    <lucide-icon name="trash-2" class="my-icon"></lucide-icon>
                  </button>
                </div>
              </div>
              <label class="block mb-2 text-base text-black font-semibold" for="video-{{j}}">Video :</label>
              <div
                class="flex flex-row p-4 items-center justify-center w-full border-2 border-indigo-200 border-dashed rounded-lg bg-indigo-50 hover:bg-indigo-100 hover:border-gray-50">
                <div class="w-1/2">
                  <video controls class="w-full h-auto object-contain rounded-md">
                    <source [src]="lesson.video" type="video/mp4" />
                    Your browser does not support the video tag.
                  </video>
                </div>
              </div>

              <!-- <div class="flex items-center justify-between">
                <button (click)="savelesson(i)"
                  class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Save</button>
              </div> -->
            </div>
          </div>
          <button (click)="openAddNewLessonModal(savedsection._id, i)"
              class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Add
              Lesson</button>
        </div>
      </div>
      <!-- <div class="flex items-center justify-between mt-5">
        <button (click)="saveSection(i)"
          class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Save Section</button>
      </div> -->
    </div>
    <!-- <button *ngIf="sections.length == 0" (click)="addSection()"
      class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Add
      Section</button> -->
  </div>
  <div class="px-10 pb-10 pt-5">
    <div *ngFor="let section of sections; let i = index" class="mb-0">
      <div class=" p-4 w-full border-2 border-indigo-200 border-dashed rounded-lg bg-indigo-50">
        <div class="mb-4">
          <label class="block mb-2 text-base text-black font-semibold" for="title-{{i}}">Section
            Title</label>
          <input type="string" id="title-{{i}}"
            class="form-control  text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
            [(ngModel)]="section.title" placeholder="Section Title" required />
        </div>
        <div class="mb-4">
          <label class="block mb-2 text-base text-black font-semibold" for="description-{{i}}">Description</label>
          <textarea id="description-{{i}}"
            class="block font-sans font-normal text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
            placeholder="This section is..." [(ngModel)]="section.description"></textarea>
        </div>
        <div class="mb-5">
          <div *ngFor="let lesson of section.lessons; let j = index" class="mb-6">
            <div class=" p-4 w-full border-2 border-indigo-200 border-dashed rounded-lg bg-indigo-100">
              <div class="mb-4">
                <label class="block mb-2 text-base text-black font-semibold" for="title-{{i}}-{{j}}">Lesson
                  Title</label>
                <input type="string" id="title-{{i}}-{{j}}"
                  class="form-control  text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                  [(ngModel)]="lesson.title" placeholder="Section Title" required />
              </div>
              <div class="mb-4">
                <label class="block mb-2 text-base text-black font-semibold"
                  for="description-{{i}}-{{j}}">Description</label>
                <textarea id="description-{{i}}-{{j}}"
                  class="block font-sans font-normal text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                  placeholder="This section is..." [(ngModel)]="lesson.description"></textarea>
              </div>
              <div class="mb-4">
                <label class="block mb-2 text-base text-black font-semibold" for="video-{{i}}-{{j}}">Video</label>
                <input type="file" id="video-{{i}}-{{j}}"
                  class="form-control text-indigo-600 placeholder-indigo-600 text-sm rounded-lg w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                  [(ngModel)]="lesson.vedio" (change)="validateVideoFile($event, i, j)" accept="video/*" required />
              </div>
              <!-- <span *ngIf="!isVideoFileValid"
                class="text-xs font-semibold text-red-600">Input a video file.</span> -->
              <div *ngIf="previewUrls[i] && previewUrls[i][j] && previewUrls[i][j] != null"
                class="flex flex-row p-4 items-center justify-center w-full border-2 border-indigo-200 border-dashed rounded-lg bg-indigo-50 hover:bg-indigo-100 hover:border-gray-50">
                <div class="w-1/2">
                  <video controls class="w-full h-auto object-contain rounded-md">
                    <source [src]="previewUrls[i][j]" type="video/mp4" />
                    Your browser does not support the video tag.
                  </video>
                </div>
                <button (click)="removeVideo(i, j)"
                  class="mt-28 ml-4 bg-indigo-200 pt-3 pb-2 px-3 text-indigo-600 text-base rounded-full hover:cursor-pointer border-none border-blue-100 hover:bg-indigo-50 focus:outline-none">
                  <lucide-icon name="trash-2" class="my-icon"></lucide-icon>
                </button>
              </div>

              <!-- <div class="flex items-center justify-between">
                <button (click)="savelesson(i)"
                  class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Save</button>
              </div> -->
            </div>
          </div>
          <button (click)="addLesson(i)"
            class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Add
            Lesson</button>
        </div>
      </div>
      <div class="flex items-center justify-between mt-5">
        <button (click)="saveSection(i)"
          class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Save
          Section</button>
      </div>
    </div>
    <button *ngIf="sections.length == 0" (click)="addSection()"
      class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Add
      Section</button>
  </div>
  <!-- <div class="p-10">
    <div *ngFor="let section of sections; let i = index" class="mb-6">
      <div class=" p-4 w-full border-2 border-indigo-200 border-dashed rounded-lg cursor-pointer bg-indigo-50">
        <div class="mb-4">
          <label class="block mb-2 text-base text-black font-semibold" for="title-{{i}}">Section
            Title</label>
          <input type="string" id="title-{{i}}"
            class="form-control  text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
            [(ngModel)]="section.title" placeholder="Section Title" required />
        </div>
        <div class="mb-4">
          <label class="block mb-2 text-base text-black font-semibold" for="description-{{i}}">Description</label>
          <textarea id="description-{{i}}"
            class="block font-sans font-normal text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
            placeholder="This section is..." [(ngModel)]="section.description"></textarea>
        </div>
        <div class="mb-4">
          <label class="block mb-2 text-base text-black font-semibold" for="video-{{i}}">Vedio</label>
          <input
            class="form-control  text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid bg-white border-indigo-200 focus:border-indigo-600"
            id="video-{{i}}" placeholder="Input vedio" [(ngModel)]="section.video" type="text">
          <input
            class="form-control  text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid bg-white border-indigo-200 focus:border-indigo-600"
            id="video-{{i}}" [(ngModel)]="section.video" type="file">
        </div>
        <div class="flex items-center justify-between">
          <button (click)="saveSection(i)"
            class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Save</button>
        </div>
      </div>
    </div>
    <button (click)="addSection()"
            class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">Add Section</button>
  </div> -->
</div>

<!-- section edit modal -->
<div class="fixed z-10 inset-0 overflow-y-auto" *ngIf="showModal">
  <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
    <!-- Overlay -->
    <!-- <div class="fixed inset-0 transition-opacity">
      <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
    </div> -->

    <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>

    <div
      class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
      role="dialog" aria-modal="true" aria-labelledby="modal-headline">
      <div class="p-4 flex flex-col">
        <div class="flex justify-between">
          <div class="p-2">
            <h3 class="text-lg m-0 font-semibold text-gray-900">
              Edit section
            </h3>
          </div>
          <div>
            <button (click)="closeModal()"
              class="bg-white pt-3 pb-2 px-3 text-indigo-400 text-xs rounded-full hover:cursor-pointer border-none border-blue-100 hover:bg-indigo-200 hover:text-indigo-400 focus:outline-none">
              <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                viewBox="0 0 14 14">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
              </svg>
            </button>
          </div>
        </div>
        <div>
          <form class="p-4" [formGroup]="sectionEditForm">
            <div class="grid gap-4 mb-4">
              <div class="col-span-2 mt-3">
                <label class="block mb-2 text-base text-black font-semibold" for="sectionEditTitle">Title</label>
                <input type="string" id="sectionEditTitle" formControlName="sectionEditTitle"
                  class="form-control  text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                  placeholder="Section Title" required />
              </div>
              <span
                *ngIf="sectionEditForm.get('sectionEditTitle')?.hasError('required') && (sectionEditForm.get('sectionEditTitle')?.touched)"
                class="text-xs font-semibold text-red-600">Title is requried.</span>
              <span
                *ngIf="sectionEditForm.get('sectionEditTitle')?.hasError('minlength') && (sectionEditForm.get('sectionEditTitle')?.touched)"
                class="text-xs font-semibold text-red-600">Title should at least have 2 characters.</span>
              <span
                *ngIf="sectionEditForm.get('sectionEditTitle')?.hasError('maxlength') && (sectionEditForm.get('sectionEditTitle')?.touched)"
                class="text-xs font-semibold text-red-600">Title cannot exceed 100 characters.</span>
              <div class="col-span-2">
                <label class="block mb-2 text-base text-black font-semibold"
                  for="sectionEditDescription">Description</label>
                <textarea id="sectionEditDescription" formControlName="sectionEditDescription"
                  class="block font-sans font-normal text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                  placeholder="This section is..."></textarea>
              </div>
              <span
                *ngIf="sectionEditForm.get('sectionEditDescription')?.hasError('required') && (sectionEditForm.get('sectionEditDescription')?.touched)"
                class="text-xs font-semibold text-red-600">Description is requried.</span>
              <span
                *ngIf="sectionEditForm.get('sectionEditDescription')?.hasError('minlength') && (sectionEditForm.get('sectionEditDescription')?.touched)"
                class="text-xs font-semibold text-red-600">Description should at least have 5 characters.</span>
              <span
                *ngIf="sectionEditForm.get('sectionEditDescription')?.hasError('maxlength') && (sectionEditForm.get('sectionEditDescription')?.touched)"
                class="text-xs font-semibold text-red-600">Description cannot exceed 1000 characters.</span>
            </div>
          </form>
        </div>
      </div>
      <div class="bg-gray-50 px-4 py-3 sm:px-6 flex flex-row justify-end">
        <button (click)="sectionEditSubmit()"
          class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">
          Save
        </button>
      </div>
    </div>
  </div>
</div>

<!-- lesson edit modal -->
<div class="fixed z-10 inset-0 overflow-y-auto" *ngIf="showLessonEditModal">
  <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
    <!-- Overlay -->
    <!-- <div class="fixed inset-0 transition-opacity">
      <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
    </div> -->

    <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>

    <div
      class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
      role="dialog" aria-modal="true" aria-labelledby="modal-headline">
      <div class="p-4 flex flex-col">
        <div class="flex justify-between">
          <div class="p-2">
            <h3 class="text-lg m-0 font-semibold text-gray-900">
              Edit lesson
            </h3>
          </div>
          <div>
            <button (click)="closeLessonModal()"
              class="bg-white pt-3 pb-2 px-3 text-indigo-400 text-xs rounded-full hover:cursor-pointer border-none border-blue-100 hover:bg-indigo-200 hover:text-indigo-400 focus:outline-none">
              <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                viewBox="0 0 14 14">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
              </svg>
            </button>
          </div>
        </div>
        <div>
          <form class="p-4" [formGroup]="lessonEditForm">
            <div class="grid gap-4 mb-4">
              <div class="col-span-2 mt-3">
                <label class="block mb-2 text-base text-black font-semibold" for="lessonEditTitle">Title</label>
                <input type="string" id="lessonEditTitle" formControlName="lessonEditTitle"
                  class="form-control  text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                  placeholder="Section Title" required />
              </div>
              <span
                *ngIf="lessonEditForm.get('lessonEditTitle')?.hasError('required') && (lessonEditForm.get('lessonEditTitle')?.touched)"
                class="text-xs font-semibold text-red-600">Title is requried.</span>
              <span
                *ngIf="lessonEditForm.get('lessonEditTitle')?.hasError('minlength') && (lessonEditForm.get('lessonEditTitle')?.touched)"
                class="text-xs font-semibold text-red-600">Title should at least have 2 characters.</span>
              <span
                *ngIf="lessonEditForm.get('lessonEditTitle')?.hasError('maxlength') && (lessonEditForm.get('lessonEditTitle')?.touched)"
                class="text-xs font-semibold text-red-600">Title cannot exceed 100 characters.</span>
              <div class="col-span-2">
                <label class="block mb-2 text-base text-black font-semibold"
                  for="lessonEditDescription">Description</label>
                <textarea id="lessonEditDescription" formControlName="lessonEditDescription"
                  class="block font-sans font-normal text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                  placeholder="This section is..."></textarea>
              </div>
              <span
                *ngIf="lessonEditForm.get('lessonEditDescription')?.hasError('required') && (lessonEditForm.get('lessonEditDescription')?.touched)"
                class="text-xs font-semibold text-red-600">Description is requried.</span>
              <span
                *ngIf="lessonEditForm.get('lessonEditDescription')?.hasError('minlength') && (lessonEditForm.get('lessonEditDescription')?.touched)"
                class="text-xs font-semibold text-red-600">Description should at least have 5 characters.</span>
              <span
                *ngIf="lessonEditForm.get('lessonEditDescription')?.hasError('maxlength') && (lessonEditForm.get('lessonEditDescription')?.touched)"
                class="text-xs font-semibold text-red-600">Description cannot exceed 1000 characters.</span>
              <div class="col-span-2">
                <label class="block mb-2 text-base text-black font-semibold" for="lessonEditVideo">Video</label>
                <input type="file" id="lessonEditVideo" formControlName="lessonEditVideo"
                  class="form-control text-indigo-600 placeholder-indigo-600 text-sm rounded-lg w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                  (change)="onFileChange($event)" accept="video/*" required />
              </div>
              <div *ngIf="lessonEditFile != null && lessonEditUrl != null"
                class="flex flex-row p-4 items-center justify-center w-full border-2 border-indigo-200 border-dashed rounded-lg bg-indigo-50 hover:bg-indigo-100 hover:border-gray-50">
                <div class="w-1/2">
                  <video controls class="w-full h-auto object-contain rounded-md">
                    <source [src]="lessonEditUrl" type="video/mp4" />
                    Your browser does not support the video tag.
                  </video>
                </div>
                <button (click)="removeLessonEditVideo()"
                  class="mt-28 ml-4 bg-indigo-200 pt-3 pb-2 px-3 text-indigo-600 text-base rounded-full hover:cursor-pointer border-none border-blue-100 hover:bg-indigo-50 focus:outline-none">
                  <lucide-icon name="trash-2" class="my-icon"></lucide-icon>
                </button>
              </div>
              <!-- <span *ngIf="lessonEditForm.get('lessonEditVideo')?.hasError('required') && lessonEditForm.get('lessonEditVideo')?.touched"
                    class="text-xs font-semibold text-red-600">Video is required.</span> -->
            </div>
          </form>
        </div>
      </div>
      <div class="bg-gray-50 px-4 py-3 sm:px-6 flex flex-row justify-end">
        <button (click)="lessonEditSubmit()"
          class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">
          Save
        </button>
      </div>
    </div>
  </div>
</div>

<!-- add lesson modal -->
<div class="fixed z-10 inset-0 overflow-y-auto" *ngIf="showAddLessonModal">
  <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
    <!-- Overlay -->
    <!-- <div class="fixed inset-0 transition-opacity">
      <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
    </div> -->

    <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>

    <div
      class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
      role="dialog" aria-modal="true" aria-labelledby="modal-headline">
      <div class="p-4 flex flex-col">
        <div class="flex justify-between">
          <div class="p-2">
            <h3 class="text-lg m-0 font-semibold text-gray-900">
              Add lesson
            </h3>
          </div>
          <div>
            <button (click)="closeAddLessonModal()"
              class="bg-white pt-3 pb-2 px-3 text-indigo-400 text-xs rounded-full hover:cursor-pointer border-none border-blue-100 hover:bg-indigo-200 hover:text-indigo-400 focus:outline-none">
              <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                viewBox="0 0 14 14">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
              </svg>
            </button>
          </div>
        </div>
        <div>
          <form class="p-4" [formGroup]="lessonAddForm">
            <div class="grid gap-4 mb-4">
              <div class="col-span-2 mt-3">
                <label class="block mb-2 text-base text-black font-semibold" for="lessonAddTitle">Title</label>
                <input type="string" id="lessonAddTitle" formControlName="lessonAddTitle"
                  class="form-control  text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                  placeholder="Section Title" required />
              </div>
              <span
                *ngIf="lessonAddForm.get('lessonAddTitle')?.hasError('required') && (lessonAddForm.get('lessonAddTitle')?.touched)"
                class="text-xs font-semibold text-red-600">Title is requried.</span>
              <span
                *ngIf="lessonAddForm.get('lessonAddTitle')?.hasError('minlength') && (lessonAddForm.get('lessonAddTitle')?.touched)"
                class="text-xs font-semibold text-red-600">Title should at least have 2 characters.</span>
              <span
                *ngIf="lessonAddForm.get('lessonAddTitle')?.hasError('maxlength') && (lessonAddForm.get('lessonAddTitle')?.touched)"
                class="text-xs font-semibold text-red-600">Title cannot exceed 100 characters.</span>
              <div class="col-span-2">
                <label class="block mb-2 text-base text-black font-semibold"
                  for="lessonAddDescription">Description</label>
                <textarea id="lessonAddDescription" formControlName="lessonAddDescription"
                  class="block font-sans font-normal text-indigo-600 placeholder-indigo-600 text-sm rounded-lg  w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                  placeholder="This section is..."></textarea>
              </div>
              <span
                *ngIf="lessonAddForm.get('lessonAddDescription')?.hasError('required') && (lessonAddForm.get('lessonAddDescription')?.touched)"
                class="text-xs font-semibold text-red-600">Description is requried.</span>
              <span
                *ngIf="lessonAddForm.get('lessonAddDescription')?.hasError('minlength') && (lessonAddForm.get('lessonAddDescription')?.touched)"
                class="text-xs font-semibold text-red-600">Description should at least have 5 characters.</span>
              <span
                *ngIf="lessonAddForm.get('lessonAddDescription')?.hasError('maxlength') && (lessonAddForm.get('lessonAddDescription')?.touched)"
                class="text-xs font-semibold text-red-600">Description cannot exceed 1000 characters.</span>
              <div class="col-span-2">
                <label class="block mb-2 text-base text-black font-semibold" for="lessonAddVideo">Video</label>
                <input type="file" id="lessonAddVideo" formControlName="lessonAddVideo"
                  class="form-control text-indigo-600 placeholder-indigo-600 text-sm rounded-lg w-full p-2 border-2 border-solid border-indigo-200 focus:border-indigo-600"
                  (change)="onLessonAddFileChange($event)" accept="video/*" required />
              </div>
              <span *ngIf="lessonAddForm.get('lessonAddVideo')?.hasError('required') && lessonAddForm.get('lessonAddVideo')?.touched"
                    class="text-xs font-semibold text-red-600">Video is required.</span>
              <div *ngIf="lessonAddFile != null && lessonAddUrl != null"
                class="flex flex-row p-4 items-center justify-center w-full border-2 border-indigo-200 border-dashed rounded-lg bg-indigo-50 hover:bg-indigo-100 hover:border-gray-50">
                <div class="w-1/2">
                  <video controls class="w-full h-auto object-contain rounded-md">
                    <source [src]="lessonAddUrl" type="video/mp4" />
                    Your browser does not support the video tag.
                  </video>
                </div>
                <button (click)="removeLessonAddVideo()"
                  class="mt-28 ml-4 bg-indigo-200 pt-3 pb-2 px-3 text-indigo-600 text-base rounded-full hover:cursor-pointer border-none border-blue-100 hover:bg-indigo-50 focus:outline-none">
                  <lucide-icon name="trash-2" class="my-icon"></lucide-icon>
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="bg-gray-50 px-4 py-3 sm:px-6 flex flex-row justify-end">
        <button (click)="lessonAddSubmit()"
          class="bg-indigo-600 text-white text-base p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">
          Save
        </button>
      </div>
    </div>
  </div>
</div>

<!-- delete section modal -->
<div class="fixed z-10 inset-0 overflow-y-auto" *ngIf="showDeleteSectionModal">
  <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">

    <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>

    <div
      class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
      role="dialog" aria-modal="true" aria-labelledby="modal-headline">
      <div class="p-4 flex flex-col">
        <div class="flex justify-between">
          <div class="p-2">
            <h3 class="text-lg m-0 font-semibold text-gray-900">
              Do you want to delete this section?
            </h3>
          </div>
          <div>
            <button (click)="closeDeleteSectionModal()"
              class="bg-white pt-3 pb-2 px-3 text-indigo-400 text-xs rounded-full hover:cursor-pointer border-none border-blue-100 hover:bg-indigo-200 hover:text-indigo-400 focus:outline-none">
              <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                viewBox="0 0 14 14">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
              </svg>
            </button>
          </div>
        </div>
        <div>
        </div>
      </div>
      <div class="bg-gray-50 px-4 py-3 sm:px-6 flex flex-row justify-end">
        <button (click)="closeDeleteSectionModal()"
          class="bg-gray-500 text-white text-base m-2 p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-gray-700 focus:outline-none">
          No
        </button>
        <button (click)="deleteSectionSubmit()"
          class="bg-indigo-600 text-white text-base m-2 p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">
          Yes
        </button>
      </div>
    </div>
  </div>
</div>


<!-- delete lesson modal -->
<div class="fixed z-10 inset-0 overflow-y-auto" *ngIf="showDeleteLessonModal">
  <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">

    <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>

    <div
      class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
      role="dialog" aria-modal="true" aria-labelledby="modal-headline">
      <div class="p-4 flex flex-col">
        <div class="flex justify-between">
          <div class="p-2">
            <h3 class="text-lg m-0 font-semibold text-gray-900">
              Do you want to delete this lesson?
            </h3>
          </div>
          <div>
            <button (click)="closeDeleteLessonModal()"
              class="bg-white pt-3 pb-2 px-3 text-indigo-400 text-xs rounded-full hover:cursor-pointer border-none border-blue-100 hover:bg-indigo-200 hover:text-indigo-400 focus:outline-none">
              <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                viewBox="0 0 14 14">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
              </svg>
            </button>
          </div>
        </div>
        <div>
        </div>
      </div>
      <div class="bg-gray-50 px-4 py-3 sm:px-6 flex flex-row justify-end">
        <button (click)="closeDeleteLessonModal()"
          class="bg-gray-500 text-white text-base m-2 p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-gray-700 focus:outline-none">
          No
        </button>
        <button (click)="deleteLessonSubmit()"
          class="bg-indigo-600 text-white text-base m-2 p-2 px-6 rounded-md hover:cursor-pointer border-none border-blue-100 hover: hover:bg-indigo-700 focus:outline-none">
          Yes
        </button>
      </div>
    </div>
  </div>
</div>